(this["webpackJsonponline-meetings-and-classes-management-system"]=this["webpackJsonponline-meetings-and-classes-management-system"]||[]).push([[0],{41:function(e,t,s){},61:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){},70:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),c=s.n(a),r=s(29),o=s.n(r),i=(s(41),s(3)),l=s(5),d=s(7),j=s.n(d),b=s(11),u=s(2),m=s(30),h=s(31),O=s(35),g=s(34),x=s(32),v=s.n(x),p=Object(a.createContext)(),f=v.a.create({baseURL:"http://localhost/omcms-server/"}),N=function(e){Object(O.a)(s,e);var t=Object(g.a)(s);function s(){var e;Object(m.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={showLogin:!0,isAuth:!1,theUser:null},e.logoutUser=function(){localStorage.removeItem("loginToken"),e.setState(Object(u.a)(Object(u.a)({},e.state),{},{isAuth:!1}))},e.registerUser=function(){var e=Object(b.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("Register.php",{fname:t.fname,lname:t.lname,email:t.email,password:t.password,authority:t.authority});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loginUser=function(){var e=Object(b.a)(j.a.mark((function e(t){var s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.post("Login.php",{email:t.email,password:t.password});case 2:return s=e.sent,e.abrupt("return",s.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.isLoggedIn=Object(b.a)(j.a.mark((function t(){var s,n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=localStorage.getItem("loginToken"))){t.next=8;break}return f.defaults.headers.common.Authorization="bearer "+s,t.next=5,f.get("AccountInfo.php");case 5:n=t.sent,(a=n.data).success&&a.user&&e.setState(Object(u.a)(Object(u.a)({},e.state),{},{isAuth:!0,theUser:a.user}));case 8:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(s,[{key:"componentDidMount",value:function(){this.isLoggedIn()}},{key:"render",value:function(){var e={rootState:this.state,isLoggedIn:this.isLoggedIn,registerUser:this.registerUser,loginUser:this.loginUser,logoutUser:this.logoutUser};return Object(n.jsx)(p.Provider,{value:e,children:this.props.children})}}]),s}(a.Component);s(61);function I(){var e=document.getElementById("MobileNavButton"),t=document.getElementById("GlobalNav");"WebNav"===t.className?(t.className+=" MobileMenu",e.className+=" MenuButtonClicked"):(t.className="WebNav",e.className="MenuButton")}function L(){var e=document.getElementById("LoginRegPane");"LoginRegPaneVisible"===e.className?e.className="LoginRegPaneNotVisible":e.className="LoginRegPaneVisible"}function C(){var e=Object(a.useContext)(p),t=e.rootState,s=e.logoutUser,c=t.isAuth,r=t.theUser;return c?Object(n.jsxs)("div",{id:"LoginRegMobile",children:[Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"NavItem PaneItem",children:["Howdy, ",r.fname]}),Object(n.jsx)(l.b,{to:"/MyAccount",className:"NavItem PaneItem",onClick:I,children:"Manage Account"}),Object(n.jsx)("button",{onClick:function(){s(),I()},className:"LogoutButton",children:"Logout"})]}):Object(n.jsxs)("div",{id:"LoginRegMobile",children:[Object(n.jsx)(l.b,{to:"/Login",className:"NavItem PaneItem",onClick:I,children:"Login"}),Object(n.jsx)("span",{children:" | "}),Object(n.jsx)(l.b,{to:"/Register",className:"NavItem PaneItem",onClick:I,children:"Register"})]})}function M(){var e=Object(a.useContext)(p),t=e.rootState,s=e.logoutUser,c=t.isAuth,r=t.theUser;return c?Object(n.jsxs)("div",{id:"LoginRegPane",className:"LoginRegPaneNotVisible",children:[Object(n.jsxs)("div",{className:"PaneHeading",children:["Howdy, ",r.fname]}),Object(n.jsx)("hr",{}),Object(n.jsx)(l.b,{to:"/MyAccount",className:"PaneItem",onClick:L,children:"Manage Account"}),Object(n.jsx)("button",{onClick:s,className:"LogoutButton",children:"Logout"})]}):Object(n.jsxs)("div",{id:"LoginRegPane",className:"LoginRegPaneNotVisible",children:[Object(n.jsx)("div",{className:"PaneHeading",children:"Howdy, Visitor"}),Object(n.jsx)("hr",{}),Object(n.jsx)(l.b,{to:"/Login",className:"PaneItem",onClick:L,children:"Login"}),Object(n.jsx)(l.b,{to:"/Register",className:"PaneItem",onClick:L,children:"Register"})]})}var y=function(){return Object(n.jsxs)("div",{className:"GlobalHeader",children:[Object(n.jsxs)("div",{id:"WebTitle",onClick:function(){window.location.href=window.location.href.replace(window.location.href.substr(window.location.href.lastIndexOf("/")+1),"Home")},children:[Object(n.jsx)("div",{id:"HeaderIcon"}),Object(n.jsxs)("div",{id:"HeaderTitle",children:["Online Meetings and Classes",Object(n.jsx)("br",{}),"Management System"]})]}),Object(n.jsx)("div",{id:"MobileNav",children:Object(n.jsx)("button",{id:"MobileNavButton",className:"MenuButton",onClick:I})}),Object(n.jsxs)("div",{id:"GlobalNav",className:"WebNav",children:[Object(n.jsx)(l.b,{to:"/Home",className:"NavItem",onClick:I,children:"Home"}),Object(n.jsx)(l.b,{to:"/Dashboard",className:"NavItem",onClick:I,children:"Dashboard"}),Object(n.jsx)(l.b,{to:"/Tools",className:"NavItem",onClick:I,children:"Tools"}),Object(n.jsx)(l.b,{to:"/About",className:"NavItem",onClick:I,children:"About"}),Object(n.jsxs)("div",{className:"UserIconBG",onMouseEnter:function(){document.getElementById("LoginRegPane").className="LoginRegPaneVisible"},onMouseLeave:function(){document.getElementById("LoginRegPane").className="LoginRegPaneNotVisible"},children:[Object(n.jsx)("div",{id:"UserIcon"}),Object(n.jsx)(M,{})]}),Object(n.jsx)(C,{})]})]})};s(67);var w=function(){return Object(n.jsxs)("div",{id:"Home",children:[Object(n.jsx)("div",{id:"HomeBody",className:"BlurBG",children:Object(n.jsxs)("div",{id:"HomeContent",children:[Object(n.jsx)("h1",{children:"Welcome to OMCMS"}),Object(n.jsxs)("h4",{children:["Tired of Managing Meetings and Classes Links and Sharing them with Interested Audience?",Object(n.jsx)("br",{})," Well OMCMS is Here to Rescue. Your One Stop Solution for Online Meetings and Classes Management,",Object(n.jsx)("br",{}),"Register Today and Get Rid of Existing Rigid Unorganised System."]})]})}),Object(n.jsx)("div",{id:"HomeFooter",className:"BlurBG"})]})};var B=function(){return Object(n.jsxs)("div",{id:"DashboardAdmin",className:"DashBoardBodyCommon",children:[Object(n.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(n.jsx)("div",{className:"DashboardContentCommon"})]})};var R=function(){return Object(n.jsxs)("div",{id:"DashboardStaff",className:"DashBoardBodyCommon",children:[Object(n.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(n.jsx)("div",{className:"DashboardContentCommon"})]})};var S=function(){return Object(n.jsxs)("div",{id:"DashboardMember",className:"DashBoardBodyCommon",children:[Object(n.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(n.jsx)("div",{className:"DashboardContentCommon"})]})};s(68);var P=function(){var e=Object(a.useContext)(p).rootState,t=e.isAuth,s=e.theUser;if(t){var c=s.authority;return"admin"===c?Object(n.jsx)(B,{}):"staff"===c?Object(n.jsx)(R,{}):"member"===c?Object(n.jsx)(S,{}):Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Something Went Wrong!!!"})})}return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"You're not Allowed to Access this Page at The Moment"})})};var k=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"Tools"})})};var A=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"About"})})},F=s(13),U=s(15);s(69),s(70);var H=function(){var e=Object(a.useContext)(p),t=e.loginUser,s=e.isLoggedIn,c={userInfo:{email:"",password:""},errorMsg:"",successMsg:""},r=Object(a.useState)(c),o=Object(U.a)(r,2),i=o[0],d=o[1],m=function(e){d(Object(u.a)(Object(u.a)({},i),{},{userInfo:Object(u.a)(Object(u.a)({},i.userInfo),{},Object(F.a)({},e.target.name,e.target.value))}))},h=function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t(i.userInfo);case 3:if(!(a=e.sent).success||!a.token){e.next=11;break}return d(Object(u.a)({},c)),localStorage.setItem("loginToken",a.token),e.next=9,s();case 9:e.next=12;break;case 11:d(Object(u.a)(Object(u.a)({},i),{},{successMsg:"",errorMsg:a.message}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O="",g="";return i.errorMsg&&(g=Object(n.jsx)("div",{className:"ErrMsgBox",children:i.errorMsg})),i.successMsg&&(O=Object(n.jsx)("div",{className:"ScsMsgBox",children:i.successMsg})),Object(n.jsx)("div",{id:"Login",children:Object(n.jsxs)("div",{id:"LoginBox",children:[Object(n.jsx)("div",{id:"LoginUserIcon"}),Object(n.jsx)("div",{id:"LoginPageHeading",children:"Login"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("form",{onSubmit:h,noValidate:!0,children:[Object(n.jsxs)("div",{id:"LoginLog",children:[g,O]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"UserEmail",className:"FormLabels",children:"Registered Email"}),Object(n.jsx)("input",{id:"UserEmail",className:"FormInputBox",name:"email",type:"email",required:!0,placeholder:"Enter Your Email",value:i.userInfo.email,onChange:m})]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"UserPassword",className:"FormLabels",children:"Password"}),Object(n.jsx)("input",{id:"UserPassword",className:"FormInputBox",name:"password",type:"password",required:!0,placeholder:"Enter your password",value:i.userInfo.password,onChange:m})]}),Object(n.jsx)("div",{className:"ButtonHolder",children:Object(n.jsx)("button",{id:"SubmitLogin",className:"ButtonT1",type:"submit",children:"SignIn"})}),Object(n.jsx)("div",{className:"ButtonHolder",children:Object(n.jsx)(l.b,{to:"/Register",id:"SwitchRegister",className:"ButtonT1",children:"SignUp Instead"})})]})]})})};s(71);var E=function(){var e=Object(a.useContext)(p).registerUser,t={userInfo:{fname:"",lname:"",email:"",password:"",authority:""},errorMsg:"",successMsg:""},s=Object(a.useState)(t),c=Object(U.a)(s,2),r=c[0],o=c[1],i=function(){var s=Object(b.a)(j.a.mark((function s(n){var a;return j.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n.preventDefault(),s.next=3,e(r.userInfo);case 3:(a=s.sent).success?(o(Object(u.a)(Object(u.a)({},t),{},{successMsg:a.message})),setTimeout((function(){o(Object(u.a)(Object(u.a)({},t),{},{successMsg:"Redirecting in 5 Seconds"}))}),2e3),setTimeout((function(){var e=window.location.href;window.location.href=e.replace(e.substr(e.lastIndexOf("/")+1),"Login")}),5e3)):o(Object(u.a)(Object(u.a)({},r),{},{successMsg:"",errorMsg:a.message}));case 5:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),d=function(e){o(Object(u.a)(Object(u.a)({},r),{},{userInfo:Object(u.a)(Object(u.a)({},r.userInfo),{},Object(F.a)({},e.target.name,e.target.value))}))},m="",h="";return r.errorMsg&&(h=Object(n.jsx)("div",{className:"ErrMsgBox",children:r.errorMsg})),r.successMsg&&(m=Object(n.jsx)("div",{className:"ScsMsgBox",children:r.successMsg})),Object(n.jsx)("div",{id:"Register",children:Object(n.jsxs)("div",{id:"RegisterBox",children:[Object(n.jsx)("div",{id:"RegisterUserIcon"}),Object(n.jsx)("div",{id:"RegisterPageHeading",children:"Register"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("form",{onSubmit:i,noValidate:!0,children:[Object(n.jsxs)("div",{id:"RegisterLog",children:[h,m]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"FirstName",className:"FormLabels",children:"First Name"}),Object(n.jsx)("input",{id:"FirstName",className:"FormInputBox",name:"fname",required:!0,type:"text",value:r.userInfo.fname,onChange:d,placeholder:"Enter Your First Name"})]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"LastName",className:"FormLabels",children:"Last Name"}),Object(n.jsx)("input",{id:"LastName",className:"FormInputBox",name:"lname",required:!0,type:"text",value:r.userInfo.lname,onChange:d,placeholder:"Enter Your Last Name"})]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"RegEmail",className:"FormLabels",children:"Email"}),Object(n.jsx)("input",{id:"RegEmail",className:"FormInputBox",name:"email",required:!0,type:"email",value:r.userInfo.email,onChange:d,placeholder:"Enter Your Email"})]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"RegPassword",className:"FormLabels",children:"Password"}),Object(n.jsx)("input",{id:"RegPassword",className:"FormInputBox",name:"password",required:!0,type:"password",value:r.userInfo.password,onChange:d,placeholder:"Enter your password"})]}),Object(n.jsxs)("div",{className:"InputContainer",children:[Object(n.jsx)("label",{htmlFor:"RegAuthority",className:"FormLabels",children:"Category"}),Object(n.jsxs)("select",{id:"RegAuthority",className:"FormInputBox",name:"authority",defaultValue:"",required:!0,onChange:d,children:[Object(n.jsx)("option",{name:"authority",value:"",disabled:!0,hidden:!0,children:"Choose Your Category"}),Object(n.jsx)("option",{name:"authority",value:"admin",children:"Institute"}),Object(n.jsx)("option",{name:"authority",value:"staff",children:"Contributors/Staff"}),Object(n.jsx)("option",{name:"authority",value:"member",children:"Members/Students"})]})]}),Object(n.jsx)("div",{className:"ButtonHolder",children:Object(n.jsx)("button",{id:"SubmitRegister",className:"ButtonT1",type:"submit",children:"SignUp"})}),Object(n.jsx)("div",{className:"ButtonHolder",children:Object(n.jsx)(l.b,{to:"/Login",id:"SwitchLogin",className:"ButtonT1",children:"SignIn Instead"})})]})]})})};var D=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("h1",{children:"My Account"})})};s(72);function T(){return Object(a.useContext)(p).rootState.isAuth?Object(n.jsxs)("div",{id:"PagesContainer",children:[Object(n.jsx)(i.b,{path:"/Home",component:w}),Object(n.jsx)(i.b,{path:"/",children:Object(n.jsx)(i.a,{to:"/Home"})}),Object(n.jsx)(i.b,{path:"/Dashboard",component:P}),Object(n.jsx)(i.b,{path:"/Tools",component:k}),Object(n.jsx)(i.b,{path:"/About",component:A}),Object(n.jsx)(i.b,{path:"/MyAccount",component:D}),Object(n.jsx)(i.b,{path:"/Login",children:Object(n.jsx)(i.a,{to:"/MyAccount"})}),Object(n.jsx)(i.b,{path:"/Register",children:Object(n.jsx)(i.a,{to:"/MyAccount"})})]}):Object(n.jsxs)("div",{id:"PagesContainer",children:[Object(n.jsx)(i.b,{path:"/Home",component:w}),Object(n.jsx)(i.b,{path:"/",children:Object(n.jsx)(i.a,{to:"/Home"})}),Object(n.jsx)(i.b,{path:"/Dashboard",children:Object(n.jsx)(i.a,{to:"/Login"})}),Object(n.jsx)(i.b,{path:"/Tools",children:Object(n.jsx)(i.a,{to:"/Login"})}),Object(n.jsx)(i.b,{path:"/About",component:A}),Object(n.jsx)(i.b,{path:"/Login",component:H}),Object(n.jsx)(i.b,{path:"/Register",component:E}),Object(n.jsx)(i.b,{path:"/MyAccount",children:Object(n.jsx)(i.a,{to:"/Login"})})]})}var V=function(){return Object(n.jsx)(N,{children:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(y,{}),Object(n.jsx)(T,{})]})})})},W=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,74)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),W()}},[[73,1,2]]]);
//# sourceMappingURL=main.232b0b9c.chunk.js.map