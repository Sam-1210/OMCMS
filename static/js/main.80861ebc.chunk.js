(this["webpackJsonponline-meetings-and-classes-management-system"]=this["webpackJsonponline-meetings-and-classes-management-system"]||[]).push([[0],{45:function(e,t,n){},65:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),r=n.n(a),c=n(37),o=n.n(c),i=(n(45),n(4)),l=n(6),u=n(3),d=n.n(u),j=n(8),b=n(2),m=n(17),h=n(18),g=n(22),O=n(20),x=n(19),p=n.n(x),f=Object(a.createContext)(),v=p.a.create({baseURL:"http://localhost/omcms-server/"}),N=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={showLogin:!0,isAuth:!1,theUser:null},e.logoutUser=function(){localStorage.removeItem("loginToken"),e.setState(Object(b.a)(Object(b.a)({},e.state),{},{isAuth:!1}))},e.registerUser=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("Register.php",{fname:t.fname,lname:t.lname,email:t.email,password:t.password,authority:t.authority});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.loginUser=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.post("Login.php",{email:t.email,password:t.password});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.isLoggedIn=Object(j.a)(d.a.mark((function t(){var n,s,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=localStorage.getItem("loginToken"))){t.next=8;break}return v.defaults.headers.common.Authorization="bearer "+n,t.next=5,v.get("AccountInfo.php");case 5:s=t.sent,(a=s.data).success&&a.user&&e.setState(Object(b.a)(Object(b.a)({},e.state),{},{isAuth:!0,theUser:a.user}));case 8:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.isLoggedIn()}},{key:"render",value:function(){var e={rootState:this.state,isLoggedIn:this.isLoggedIn,registerUser:this.registerUser,loginUser:this.loginUser,logoutUser:this.logoutUser};return Object(s.jsx)(f.Provider,{value:e,children:this.props.children})}}]),n}(a.Component);n(65);function I(){var e=document.getElementById("DrawerButton"),t=document.getElementById("GlobalNav");"WebNav"===t.className?(t.className+=" MobileMenu",e.className+=" MenuButtonClicked"):(t.className="WebNav",e.className="MenuButton")}function y(e){var t=document.getElementById(e);"LoginRegPaneVisible"===t.className?t.className="LoginRegPaneNotVisible":t.className="LoginRegPaneVisible"}function M(e){var t=Object(a.useContext)(f),n=t.rootState,r=t.logoutUser,c=n.isAuth,o=n.theUser,i=e.CompId;return c?Object(s.jsxs)("div",{id:i,className:"LoginRegPaneNotVisible",children:[Object(s.jsxs)("div",{className:"PaneHeading",children:["Howdy, ",o.fname]}),Object(s.jsx)("hr",{}),Object(s.jsx)(l.b,{to:"/MyAccount",className:"PaneItem",onClick:function(e){e.stopPropagation(),y(i)},children:"Manage Account"}),Object(s.jsx)("button",{onClick:r,className:"LogoutButton",children:"Logout"})]}):Object(s.jsxs)("div",{id:i,className:"LoginRegPaneNotVisible",children:[Object(s.jsx)("div",{className:"PaneHeading",children:"Howdy, Visitor"}),Object(s.jsx)("hr",{}),Object(s.jsx)(l.b,{to:"/Login",className:"PaneItem",onClick:function(e){e.stopPropagation(),y(i)},children:"Login"}),Object(s.jsx)(l.b,{to:"/Register",className:"PaneItem",onClick:function(e){e.stopPropagation(),y(i)},children:"Register"})]})}var w=function(){return Object(s.jsxs)("div",{id:"GlobalHeader",children:[Object(s.jsx)("div",{id:"MobileDrawer",children:Object(s.jsx)("button",{id:"DrawerButton",className:"MenuButton",onClick:I})}),Object(s.jsxs)("div",{id:"WebTitle",onClick:function(){window.location.href=window.location.href.replace(window.location.href.substr(window.location.href.lastIndexOf("/")+1),"Home")},children:[Object(s.jsx)("div",{id:"HeaderIcon"}),Object(s.jsx)("div",{id:"HeaderTitle",children:"OMCMS"})]}),Object(s.jsxs)("div",{id:"GlobalNav",className:"WebNav",children:[Object(s.jsx)(l.b,{to:"/Home",className:"NavItem",onClick:I,children:"Home"}),Object(s.jsx)(l.b,{to:"/Dashboard",className:"NavItem",onClick:I,children:"Dashboard"}),Object(s.jsx)(l.b,{to:"/Tools",className:"NavItem",onClick:I,children:"Tools"}),Object(s.jsx)(l.b,{to:"/About",className:"NavItem",onClick:I,children:"About"}),Object(s.jsxs)("div",{id:"DesktopUser",onMouseEnter:function(){document.getElementById("LoginRegPaneDesktop").className="LoginRegPaneVisible"},onMouseLeave:function(){document.getElementById("LoginRegPaneDesktop").className="LoginRegPaneNotVisible"},children:[Object(s.jsx)("div",{className:"UserIcon"}),Object(s.jsx)(M,{CompId:"LoginRegPaneDesktop"})]})]}),Object(s.jsxs)("div",{id:"MobileUser",onClick:function(){document.getElementById("LoginRegPaneMobile").className="LoginRegPaneVisible"},onMouseLeave:function(){document.getElementById("LoginRegPaneMobile").className="LoginRegPaneNotVisible"},children:[Object(s.jsx)("div",{className:"UserIcon"}),Object(s.jsx)(M,{CompId:"LoginRegPaneMobile"})]})]})};n(71);var C=function(){return Object(s.jsxs)("div",{id:"Home",children:[Object(s.jsx)("div",{id:"HomeBody",className:"BlurBG",children:Object(s.jsxs)("div",{id:"HomeContent",children:[Object(s.jsx)("h1",{children:"Welcome to OMCMS"}),Object(s.jsxs)("h4",{children:["Tired of Managing Meetings and Classes Links and Sharing them with Interested Audience?",Object(s.jsx)("br",{})," Well OMCMS is Here to Rescue. Your One Stop Solution for Online Meetings and Classes Management,",Object(s.jsx)("br",{}),"Register Today and Get Rid of Existing Rigid Unorganised System."]})]})}),Object(s.jsx)("div",{id:"HomeFooter",className:"BlurBG"})]})},L=n(12),S=n(21);n(72),n(73);var B=function(){var e=Object(a.useContext)(f),t=e.loginUser,n=e.isLoggedIn,r={userInfo:{email:"",password:""},errorMsg:"",successMsg:""},c=Object(a.useState)(r),o=Object(S.a)(c,2),i=o[0],u=o[1],m=function(e){u(Object(b.a)(Object(b.a)({},i),{},{userInfo:Object(b.a)(Object(b.a)({},i.userInfo),{},Object(L.a)({},e.target.name,e.target.value))}))},h=function(){var e=Object(j.a)(d.a.mark((function e(s){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),e.next=3,t(i.userInfo);case 3:if(!(a=e.sent).success||!a.token){e.next=11;break}return u(Object(b.a)({},r)),localStorage.setItem("loginToken",a.token),e.next=9,n();case 9:e.next=12;break;case 11:u(Object(b.a)(Object(b.a)({},i),{},{successMsg:"",errorMsg:a.message}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="",O="";return i.errorMsg&&(O=Object(s.jsx)("div",{className:"ErrMsgBox",children:i.errorMsg})),i.successMsg&&(g=Object(s.jsx)("div",{className:"ScsMsgBox",children:i.successMsg})),Object(s.jsx)("div",{id:"Login",children:Object(s.jsxs)("div",{id:"LoginBox",children:[Object(s.jsx)("div",{id:"LoginUserIcon"}),Object(s.jsx)("div",{id:"LoginPageHeading",children:"Login"}),Object(s.jsx)("hr",{}),Object(s.jsxs)("form",{onSubmit:h,noValidate:!0,children:[Object(s.jsxs)("div",{id:"LoginLog",children:[O,g]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"UserEmail",className:"FormLabels",children:"Registered Email"}),Object(s.jsx)("input",{id:"UserEmail",className:"FormInputBox",name:"email",type:"email",required:!0,placeholder:"Enter Your Email",value:i.userInfo.email,onChange:m})]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"UserPassword",className:"FormLabels",children:"Password"}),Object(s.jsx)("input",{id:"UserPassword",className:"FormInputBox",name:"password",type:"password",required:!0,placeholder:"Enter your password",value:i.userInfo.password,onChange:m})]}),Object(s.jsx)("div",{className:"ButtonHolder",children:Object(s.jsx)("button",{id:"SubmitLogin",className:"ButtonT1",type:"submit",children:"Signin"})}),Object(s.jsx)("div",{className:"ButtonHolder",children:Object(s.jsx)(l.b,{to:"/Register",id:"SwitchRegister",className:"ButtonT1",children:"Signup Instead"})})]})]})})},k=n(39),R=n(27),P=p.a.create({baseURL:"http://localhost/omcms-server/"}),D=function(e){Object(g.a)(n,e);var t=Object(O.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={org_name:"",update_org_name:"",logs:{errMsg:"",scsMsg:""},staff_info:[]},e.GetOrganisationName=function(){var t=Object(j.a)(d.a.mark((function t(n){var s,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=localStorage.getItem("loginToken"))){t.next=9;break}return P.defaults.headers.common.Authorization="bearer "+s,t.next=5,P.get("Getters/GetOrgName.php");case 5:return a=t.sent,r=a.data,e.setState(Object(b.a)(Object(b.a)({},e.state),{},{org_name:r.organisation_name})),t.abrupt("return",r.organisation_name);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.GetStaffDetails=function(){var t=Object(j.a)(d.a.mark((function t(n){var s,a,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s=localStorage.getItem("loginToken"))){t.next=8;break}return P.defaults.headers.common.Authorization="bearer "+s,t.next=5,P.get("Getters/GetStaffInfo.php");case 5:a=t.sent,(r=a.data).Payload&&e.setState(Object(b.a)(Object(b.a)({},e.state),{},{staff_info:Object(R.a)(r.Payload)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.SetOrganisationName=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=localStorage.getItem("loginToken"))){e.next=7;break}return P.defaults.headers.common.Authorization="bearer "+n,e.next=5,P.post("Setters/SetOrgName.php",{organisation_name:t});case 5:return s=e.sent,e.abrupt("return",s.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.onChangeValue=function(t){e.setState(Object(b.a)(Object(b.a)({},e.state),{},Object(L.a)({},t.target.name,t.target.value)))},e.submitForm=function(){var t=Object(j.a)(d.a.mark((function t(n){var s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e.SetOrganisationName(e.state.update_org_name);case 3:(s=t.sent).success?e.setState(Object(b.a)(Object(b.a)({},e.state),{},{org_name:e.state.update_org_name,update_org_name:"",logs:Object(b.a)(Object(b.a)({},e.state.logs),{},{successMsg:s.message,errorMsg:""})})):e.setState(Object(b.a)(Object(b.a)({},e.state),{},{logs:Object(b.a)(Object(b.a)({},e.state.logs),{},{successMsg:"",errorMsg:s.message})}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.GetOrganisationName(),this.GetStaffDetails()}},{key:"render",value:function(){var e="",t="";this.state.logs.errorMsg&&(t=Object(s.jsx)("div",{children:this.state.logs.errorMsg})),this.state.logs.successMsg&&(e=Object(s.jsx)("div",{children:this.state.logs.successMsg}));var n,a=[],r=0,c=Object(k.a)(this.state.staff_info);try{for(c.s();!(n=c.n()).done;){var o=n.value,i=Object(s.jsxs)("div",{children:[o.fname," ",o.lname," ",o.email]},r++);a=[].concat(Object(R.a)(a),[i])}}catch(l){c.e(l)}finally{c.f()}return Object(s.jsxs)("div",{id:"DashboardAdmin",className:"DashBoardBodyCommon",children:[Object(s.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(s.jsxs)("div",{className:"DashboardContentCommon",children:[Object(s.jsxs)("div",{id:"OrgSetupPallete",children:[Object(s.jsxs)("div",{children:["Welcome ",this.state.org_name]}),Object(s.jsxs)("form",{onSubmit:this.submitForm,children:[t,e,Object(s.jsx)("label",{htmlFor:"RenOrg",children:"New Name "}),Object(s.jsx)("input",{id:"RenOrg",type:"text",name:"update_org_name",placeholder:"Enter New Name",value:this.state.update_org_name,onChange:this.onChangeValue}),Object(s.jsx)("button",{type:"submit",children:"Rename"})]})]}),Object(s.jsxs)("div",{children:["Manage Staff",a]})]})]})}}]),n}(a.Component);var F=function(){return Object(s.jsxs)("div",{id:"DashboardStaff",className:"DashBoardBodyCommon",children:[Object(s.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(s.jsx)("div",{className:"DashboardContentCommon"})]})};var A=function(){return Object(s.jsxs)("div",{id:"DashboardMember",className:"DashBoardBodyCommon",children:[Object(s.jsx)("div",{className:"DashboardHeading",children:"Dashboard"}),Object(s.jsx)("div",{className:"DashboardContentCommon"})]})};n(74);var U=function(){var e=Object(a.useContext)(f).rootState,t=e.isAuth,n=e.theUser;if(t){var r=n.authority;return"admin"===r?Object(s.jsx)(D,{}):"staff"===r?Object(s.jsx)(F,{}):"member"===r?Object(s.jsx)(A,{}):Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"Something Went Wrong!!!"})})}return Object(s.jsx)(B,{})};var H=function(){return Object(a.useContext)(f).rootState.isAuth?Object(s.jsx)("h1",{children:"Tools"}):Object(s.jsx)(B,{})};var E=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"About"})})};n(75);var T=function(){var e=Object(a.useContext)(f).registerUser,t={userInfo:{fname:"",lname:"",email:"",password:"",authority:""},errorMsg:"",successMsg:""},n=Object(a.useState)(t),r=Object(S.a)(n,2),c=r[0],o=r[1],i=function(){var n=Object(j.a)(d.a.mark((function n(s){var a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s.preventDefault(),n.next=3,e(c.userInfo);case 3:(a=n.sent).success?(o(Object(b.a)(Object(b.a)({},t),{},{successMsg:a.message})),setTimeout((function(){o(Object(b.a)(Object(b.a)({},t),{},{successMsg:"Redirecting in 5 Seconds"}))}),2e3),setTimeout((function(){var e=window.location.href;window.location.href=e.replace(e.substr(e.lastIndexOf("/")+1),"Login")}),5e3)):o(Object(b.a)(Object(b.a)({},c),{},{successMsg:"",errorMsg:a.message}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),u=function(e){o(Object(b.a)(Object(b.a)({},c),{},{userInfo:Object(b.a)(Object(b.a)({},c.userInfo),{},Object(L.a)({},e.target.name,e.target.value))}))},m="",h="";return c.errorMsg&&(h=Object(s.jsx)("div",{className:"ErrMsgBox",children:c.errorMsg})),c.successMsg&&(m=Object(s.jsx)("div",{className:"ScsMsgBox",children:c.successMsg})),Object(s.jsx)("div",{id:"Register",children:Object(s.jsxs)("div",{id:"RegisterBox",children:[Object(s.jsx)("div",{id:"RegisterUserIcon"}),Object(s.jsx)("div",{id:"RegisterPageHeading",children:"Register"}),Object(s.jsx)("hr",{}),Object(s.jsxs)("form",{onSubmit:i,noValidate:!0,children:[Object(s.jsxs)("div",{id:"RegisterLog",children:[h,m]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"FirstName",className:"FormLabels",children:"First Name"}),Object(s.jsx)("input",{id:"FirstName",className:"FormInputBox",name:"fname",required:!0,type:"text",value:c.userInfo.fname,onChange:u,placeholder:"Enter Your First Name"})]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"LastName",className:"FormLabels",children:"Last Name"}),Object(s.jsx)("input",{id:"LastName",className:"FormInputBox",name:"lname",required:!0,type:"text",value:c.userInfo.lname,onChange:u,placeholder:"Enter Your Last Name"})]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"RegEmail",className:"FormLabels",children:"Email"}),Object(s.jsx)("input",{id:"RegEmail",className:"FormInputBox",name:"email",required:!0,type:"email",value:c.userInfo.email,onChange:u,placeholder:"Enter Your Email"})]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"RegPassword",className:"FormLabels",children:"Password"}),Object(s.jsx)("input",{id:"RegPassword",className:"FormInputBox",name:"password",required:!0,type:"password",value:c.userInfo.password,onChange:u,placeholder:"Enter your password"})]}),Object(s.jsxs)("div",{className:"InputContainer",children:[Object(s.jsx)("label",{htmlFor:"RegAuthority",className:"FormLabels",children:"Category"}),Object(s.jsxs)("select",{id:"RegAuthority",className:"FormInputBox",name:"authority",defaultValue:"",required:!0,onChange:u,children:[Object(s.jsx)("option",{name:"authority",value:"",disabled:!0,hidden:!0,children:"Choose Your Category"}),Object(s.jsx)("option",{name:"authority",value:"admin",children:"Institute"}),Object(s.jsx)("option",{name:"authority",value:"staff",children:"Contributors/Staff"}),Object(s.jsx)("option",{name:"authority",value:"member",children:"Members/Students"})]})]}),Object(s.jsx)("div",{className:"ButtonHolder",children:Object(s.jsx)("button",{id:"SubmitRegister",className:"ButtonT1",type:"submit",children:"Signup"})}),Object(s.jsx)("div",{className:"ButtonHolder",children:Object(s.jsx)(l.b,{to:"/Login",id:"SwitchLogin",className:"ButtonT1",children:"Signin Instead"})})]})]})})};var _=function(){return Object(s.jsx)("div",{children:Object(s.jsx)("h1",{children:"My Account"})})};n(76);function V(){return Object(a.useContext)(f).rootState.isAuth?Object(s.jsxs)("div",{id:"PagesContainer",children:[Object(s.jsx)(i.b,{path:"/Home",component:C}),Object(s.jsx)(i.b,{path:"/",children:Object(s.jsx)(i.a,{to:"/Home"})}),Object(s.jsx)(i.b,{path:"/Dashboard",component:U}),Object(s.jsx)(i.b,{path:"/Tools",component:H}),Object(s.jsx)(i.b,{path:"/About",component:E}),Object(s.jsx)(i.b,{path:"/MyAccount",component:_}),Object(s.jsx)(i.b,{path:"/Login",children:Object(s.jsx)(i.a,{to:"/MyAccount"})}),Object(s.jsx)(i.b,{path:"/Register",children:Object(s.jsx)(i.a,{to:"/MyAccount"})})]}):Object(s.jsxs)("div",{id:"PagesContainer",children:[Object(s.jsx)(i.b,{path:"/Home",component:C}),Object(s.jsx)(i.b,{path:"/",children:Object(s.jsx)(i.a,{to:"/Home"})}),Object(s.jsx)(i.b,{path:"/Dashboard",component:U}),Object(s.jsx)(i.b,{path:"/Tools",component:H}),Object(s.jsx)(i.b,{path:"/About",component:E}),Object(s.jsx)(i.b,{path:"/Login",component:B}),Object(s.jsx)(i.b,{path:"/Register",component:T}),Object(s.jsx)(i.b,{path:"/MyAccount",children:Object(s.jsx)(i.a,{to:"/Login"})})]})}var G=function(){return Object(s.jsx)(N,{children:Object(s.jsx)(l.a,{children:Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(w,{}),Object(s.jsx)(V,{})]})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(G,{})}),document.getElementById("root")),W()}},[[77,1,2]]]);
//# sourceMappingURL=main.80861ebc.chunk.js.map